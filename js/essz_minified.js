var essz={INTEGER_BYTESIZE:4,intArray:function(a){a=new ArrayBuffer(a*essz.INTEGER_BYTESIZE);return new Int32Array(a)},matrix2D:function(a,c){return new essz.Matrix2D(a,c)},bitMatrix2D:function(a,c){return new essz.BitMatrix2D(a,c)},BitMatrix2D:function(a,c){var b=Math.ceil(a/8),d=new ArrayBuffer(b*c);this._data=new Uint8Array(d);this.byteWidth=b;this.byteHeight=c}};essz.BitMatrix2D.prototype.set=function(a,c){var b=a/8,b=(b|b)*this.byteWidth+c,d=this._data[b];this._data[b]=d|1<<a%8;return this};
essz.BitMatrix2D.prototype.clear=function(a,c){var b=a/8,b=(b|b)*this.byteWidth+c,d=this._data[b];this._data[b]=d&~(1<<a%8);return this};essz.BitMatrix2D.prototype.test=function(a,c){var b=a/8;return 0!=(this._data[(b|b)*this.byteWidth+c]&1<<a%8)};essz.BitMatrix2D.prototype.debug=function(){for(var a="",c=0;c<this.byteHeight;c++){0===c%8?a+="\n\n":0===c%4&&(a+="\n");for(var b=0;b<8*this.byteWidth;b++)0===b%8?a+="  ":0===b%4&&(a+=" "),a+=this.test(b,c)?"1 ":"0 ";a+="\n"}return a};
essz.Matrix2D=function(a,c){var b=new ArrayBuffer(a*c*essz.INTEGER_BYTESIZE);this._data=new Int32Array(b);this.width=a;this.height=c};essz.Matrix2D.prototype.get=function(a,c){return this._data[c*this.width+a]};essz.Matrix2D.prototype.set=function(a,c,b){this._data[c*this.width+a]=b;return this};essz.Matrix2D.prototype.setField=function(a,c,b,d,g){for(var e=0;e<d;e++)for(var f=0;f<b;f++)this._data[(c+e)*this.width+(a+f)]=g};
essz.Matrix2D.prototype.debug=function(){for(var a="",c=-1;c<this.height;c++){for(var b=-1;b<this.width;b++)a=-1===c&&-1===b?"\t\t":-1===c?a+("|\t<"+b+">\t"):-1===b?a+("|\t<"+c+">\t"):a+("|\t"+this._data[c*this.width+b]+"\t");a+="\n"}return a};essz.Matrix2D.prototype.hasValue=function(a,c,b,d,g){if(void 0===d||void 0===g)return this.get(c,b)===a;for(var e=0;e<g;e++)for(var f=0;f<d;f++)if(this.get(c+f,b+e)===a)return!0;return!1};